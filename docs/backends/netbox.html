
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>NetBox Driver &#8212; autonet 0.1.0 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="YAML Driver" href="yamlfile.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="netbox-driver">
<h1>NetBox Driver<a class="headerlink" href="#netbox-driver" title="Permalink to this heading">¶</a></h1>
<p>Autonet supports the popular DCIM NetBox via the NetBox backend driver.
Connectivity to NetBox is defined in the driver configuration.  For details
on setting NetBox up as an Autonet inventory source see the
<a class="reference external" href="NetBoxSetup">NetBox setup</a> section below.  The NetBox driver will
attempt to gather credentials from the <cite>/secrets</cite> endpoint for older
versions of NetBox, or from the <cite>plugins/netbox-secretstore</cite> endpoint
for newer versions with the Netbox-Secretstore plugin installed.</p>
<section id="id1">
<h2>NetBox Setup<a class="headerlink" href="#id1" title="Permalink to this heading">¶</a></h2>
<p>Autonet will attempt to piece together a complete Autonet Device
definition from various aspects of the NetBox data model.
Certain things have a direct relationship: Device ID will be
derived from the NetBox device id, and the NetBox primary IP
address for the device will be used to connect to the device
for management.</p>
<section id="config-context">
<h3>Config Context<a class="headerlink" href="#config-context" title="Permalink to this heading">¶</a></h3>
<p>The NetBox driver uses the device’s configuration context to
define Autonet specific properties.  The configuration context
should be defined using the root key of <cite>autonet</cite>.  All other
properties should then be defined beneath the root key.  Autonet
only defines two properties <cite>driver</cite> and <cite>enabled</cite>, and only
requires that the former be defined.</p>
<p>It is recommend to create configuration contexts that apply
can be applied based on other device properties as a means of
scalable Autonet configuration.  For example, a configuration
context that defines the EOS driver can be created and then
applied to all devices with “Arista” as the platform.</p>
</section>
<section id="secrets">
<h3>Secrets<a class="headerlink" href="#secrets" title="Permalink to this heading">¶</a></h3>
<p>The NetBox driver utilizes the secrets feature to gather
credentials for the device.  By default the driver will
attempt to use the first secret found with the role ID
defined in the driver configuration.  Otherwise it will
fall back to the first secret found.</p>
</section>
</section>
<section id="configuration">
<h2>Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading">¶</a></h2>
<p>The NetBox driver the <cite>backend_netbox</cite> config section to define
its access to NetBox.</p>
<p><strong>[backend_yamlfile]</strong></p>
<table class="docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>url</p></td>
<td><p>The URL for NetBox, EG (<a class="reference external" href="https://mynetbox.local/">https://mynetbox.local/</a></p></td>
</tr>
<tr class="row-odd"><td><p>token</p></td>
<td><p>An API token with read privileges to devices and secrets.</p></td>
</tr>
<tr class="row-even"><td><p>private_key</p></td>
<td><p>The private_key used for decryption of secrets.</p></td>
</tr>
<tr class="row-odd"><td><p>secret_role_id</p></td>
<td><p>The role ID to be used when doing a secret lookup.  Defaults to
1.</p></td>
</tr>
<tr class="row-even"><td><p>tls_verify</p></td>
<td><p>Set to false to ignore TLS verification warnings.</p></td>
</tr>
</tbody>
</table>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">autonet</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation and Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../configuration.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../drivers.html">Drivers</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="deviceconf.html">Device Config Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="yamlfile.html">YAML Driver</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">NetBox Driver</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="../drivers.html">Drivers</a><ul>
      <li>Previous: <a href="yamlfile.html" title="previous chapter">YAML Driver</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, Connectria, LLC.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/backends/netbox.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>